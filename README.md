# Grassi Grosso

Сайт для компании Grassi Grosso.

## Установка и запуск

### Установка зависимостей

```bash
npm install
```

### Локальная разработка

**Вариант 1: Раздельно (рекомендуется для разработки)**
```bash
# Терминал 1 - Frontend
npm run dev

# Терминал 2 - Backend
node server.js
```

**Вариант 2: Вместе (если установлен concurrently)**
```bash
npm run dev:full
```

### Продакшен

1. Соберите фронтенд:
```bash
npm run build
```

2. Запустите сервер:
```bash
npm start
```

Сервер будет:
- Отдавать статику фронтенда из папки `dist`
- Обрабатывать API запросы на `/api/submit` и `/api/get-chat-id`

## Переменные окружения

Создайте файл `.env` в корне проекта:

```
BOT_TOKEN=ваш_токен_бота
CHAT_ID=ваш_chat_id
PORT=3000
```

**Важно:** 
- `BOT_TOKEN` и `CHAT_ID` обязательны для работы форм
- `PORT` обычно устанавливается автоматически на Timeweb Cloud Apps
- `VITE_API_URL` не нужна, так как используется относительный путь `/api/submit`

## Настройка для Timeweb Cloud Apps

1. **В настройках деплоя укажите:**
   - Команда сборки: `npm run build`
   - Команда запуска: `npm start`
   - Директория сборки: `/dist`

2. **Добавьте переменные окружения:**
   - `BOT_TOKEN` = `8396505144:AAHNfVxpI_l_a0t0aB_VvzfSld1zE6B-EUs`
   - `CHAT_ID` = `324152887`
   - `PORT` (обычно устанавливается автоматически)

3. **После деплоя:**
   - Фронтенд будет доступен на корневом URL: `https://ваш-домен.twc1.net/`
   - API будет доступен на: `https://ваш-домен.twc1.net/api/submit`

## Структура проекта

- `src/` - исходники фронтенда
- `server.js` - единый сервер для фронтенда и API
- `server/` - старый код бэкенда (можно удалить)
- `dist/` - собранный фронтенд (создается после `npm run build`)
